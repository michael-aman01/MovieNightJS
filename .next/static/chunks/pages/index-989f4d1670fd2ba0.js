(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(5639)}])},5639:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return em}});var r,i=t(5893),s=t(7294),o=t(1309),c=t(2423),a=t.n(c),l=t(1010),u=t(655),h=t(1649),d=t(204),x=t(3100),m=t(4418),j=t(1686),f=t(5034),p=t(9783),v=t(6272),g=t(567),k="ADD_MOVIE/movies";function _(){var e,n=(0,o._)((0,s.useState)(""),2),t=n[0],r=n[1],c=(0,o._)((0,s.useState)(),2);c[0],c[1];var a=(0,o._)((0,s.useState)(),2),g=a[0],_=a[1],b=(0,h.I0)();(0,s.useEffect)(function(){void 0!==g&&b({type:k,movies:g})},[g]);var w=(e=(0,l._)(function(){return(0,u.Jh)(this,function(e){switch(e.label){case 0:if(0===t.length)return alert("Please enter a movie title"),[2,null];e.label=1;case 1:return e.trys.push([1,4,,5]),new URLSearchParams({s:t,r:"json"}),[4,fetch("api/search/",{method:"POST",body:JSON.stringify({title:t})})];case 2:return[4,e.sent().json()];case 3:return _(e.sent().filter(function(e){return"movie"===e.Type})),[3,5];case 4:return e.sent(),alert("sorry no search results found! Try another title"),[3,5];case 5:return[2]}})}),function(){return e.apply(this,arguments)});return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(d.k,{color:"white",minWidth:"max-content",w:"500px",bg:"transparent",alignItems:"center",gap:"2",justifyContent:"center",children:[(0,i.jsx)(x.xu,{p:"2",children:(0,i.jsx)(m.X,{size:"lg",children:(0,i.jsx)(j.I,{placeholder:"Search for Movie",variant:"outline",w:"500px",size:"lg",onChange:function(e){return r(e.target.value)}})})}),(0,i.jsx)(f.L,{}),(0,i.jsx)(p.h,{gap:"2",children:(0,i.jsx)(v.z,{colorScheme:"teal",onClick:w,children:"Search"})})]})})}var b=t(7754),w=t(6979),S=t(4416),y=t(7335),I=t(5972),O=t(1963),C=t(2907),D=t(4504),M=t(5819),E=t(3793),N=t(4586);function z(){return JSON.parse(localStorage.getItem("movie-bookmarks"))}var F="bookmarks/ADD_BOOKMARK",R="bookmarks/REMOVE_BOOKMARK",B=function(e){return{type:F,bookmark:e}},V=t(9379),P=t(6684),T=t(5902),A=t(9564),J=t(9594),X=t(131),K=t(2774);function L(e){var n=e.movieData,t=(0,h.I0)();return(0,h.v9)(function(e){return e.bookmarks}),(0,i.jsx)(i.Fragment,{children:n&&(0,i.jsxs)(V.Z,{direction:{base:"column",sm:"row"},overflow:"hidden",variant:"outline",children:[(0,i.jsx)(S.E,{src:n.Poster,objectFit:"scale-down",justifyContent:"center"}),(0,i.jsxs)(P.K,{children:[(0,i.jsxs)(T.e,{children:[(0,i.jsx)(m.X,{size:"md",children:n.Title}),(0,i.jsx)(A.x,{py:"2",children:n.Plot}),(0,i.jsxs)(d.k,{justifyContent:"space-between",children:[(0,i.jsx)(J.Vp,{colorScheme:"teal",children:n.Year}),(0,i.jsx)(J.Vp,{colorScheme:"teal",children:n.Runtime}),(0,i.jsxs)(J.Vp,{colorScheme:"teal",children:["IMDB Rating: ",n.imdbRating]})]})]}),(0,i.jsx)(X.e,{children:(0,i.jsx)(v.z,{leftIcon:(0,i.jsx)(K.V,{}),colorScheme:"red",id:n.imdbID,onClick:function(e){e.preventDefault(),t({type:R,bookmarkID:e.target.id})},children:"Remove Bookmark"})})]})]})})}function W(){var e=(0,y.q)(),n=e.isOpen,t=e.onOpen,r=e.onClose,c=(0,o._)(s.useState("right"),2);c[0],c[1];var a=(0,h.v9)(function(e){return e.bookmarks}),l=(0,o._)((0,s.useState)([]),2),u=l[0],x=l[1];if((0,h.I0)(),(0,s.useEffect)(function(){x(z())},[]),(0,s.useEffect)(function(){u!==a&&x(z())},[a]),u)return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v.z,{onClick:t,size:"md",style:{position:"sticky",top:50,width:"fit-content",height:"100%",zIndex:2},variant:"solid",colorScheme:"teal",children:"Edit Bookmarks"}),(0,i.jsxs)(I.d,{placement:"left",onClose:r,isOpen:n,size:"lg",children:[(0,i.jsx)(O.Z,{}),(0,i.jsxs)(C.s,{children:[(0,i.jsx)(D.x,{borderBottomWidth:"1px",children:(0,i.jsxs)(d.k,{justifyContent:"space-between",children:[(0,i.jsx)("div",{children:"Bookmarked Movies"}),(0,i.jsx)(M.o,{})]})}),(0,i.jsx)(E.f,{children:(0,i.jsx)(i.Fragment,{children:u.length>0?u.map(function(e,n){return(0,i.jsx)(L,{movieData:e},n)}):(0,i.jsx)("p",{children:"No bookmarks saved yet!"})})})]})]})]})}function Y(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(d.k,{bg:"transparent",justifyContent:"space-between",className:a().header_container,children:[(0,i.jsx)(W,{}),(0,i.jsx)(f.L,{}),(0,i.jsx)(b.M,{children:(0,i.jsx)(x.xu,{bg:"transparent",children:(0,i.jsx)(w.W,{centerContent:!0,bg:"transparent",children:(0,i.jsx)(_,{})})})}),(0,i.jsx)(f.L,{}),(0,i.jsxs)(d.k,{justifyContent:"space-between",width:"10%",children:[(0,i.jsx)(S.E,{src:"./linkedin.png",alt:"alt",height:"50px",width:"50px",className:a().social_media_image,onClick:function(){return window.open("https://www.linkedin.com/in/maman1/","_blank")}}),(0,i.jsx)(S.E,{src:"./github-logo.svg",alt:"alt",height:"50px",width:"50px",className:a().social_media_image,onClick:function(){return window.open("https://github.com/michael-aman01/MovieNightJS","_blank")}})]})]})})}var Z=t(6137),U=t(4857),q=t(7822),G=t(1004),H=t(6005),Q=t(9394),$=t(3572),ee=t(333),en=t(9558),et=t(1785);function er(e){var n=e.movieData,t=Object.keys(n).slice(0,9),r=(0,o._)((0,s.useState)([]),2),c=r[0],a=r[1],l=(0,h.v9)(function(e){return e.bookmarks});(0,s.useState)(function(){(0===l.current.length||l.current.length!=c.length)&&a(z())},[l]);var u=(0,h.I0)();return(0,i.jsx)(i.Fragment,{children:n&&l.current&&(0,i.jsx)(w.W,{children:(0,i.jsxs)(V.Z,{children:[(0,i.jsxs)(U.O,{children:[(0,i.jsx)(b.M,{children:(0,i.jsx)(S.E,{src:n.Poster,objectFit:"fill",justifyContent:"center"})}),(0,i.jsx)(b.M,{children:(0,i.jsx)(m.X,{children:n.Title})}),(0,i.jsx)(b.M,{children:(0,i.jsx)(d.k,{justifyContent:"space-between",children:n.Genre.split(",").map(function(e){return(0,i.jsx)(J.Vp,{color:!0,children:e.replace(",","")})})})}),(0,i.jsx)(b.M,{height:"50px",children:(0,i.jsx)(q.i,{orientation:"horizontal"})}),(0,i.jsxs)(d.k,{justifyContent:"space-between",children:[(0,i.jsx)(J.Vp,{colorScheme:"teal",children:n.Year}),(0,i.jsx)(J.Vp,{colorScheme:"teal",children:n.Runtime}),(0,i.jsxs)(J.Vp,{colorScheme:"teal",children:["IMDB Rating: ",n.imdbRating]})]})]}),(0,i.jsxs)(T.e,{children:[(0,i.jsxs)(G.m,{position:"relative",variant:"unstyled",children:[(0,i.jsxs)(H.t,{children:[(0,i.jsx)(Q.O,{children:"Overview"}),(0,i.jsx)(Q.O,{children:"Additional Info"})]}),(0,i.jsx)($.c,{mt:"-1.5px",height:"2px",bg:"blue.500",borderRadius:"1px"}),(0,i.jsxs)(ee.n,{children:[(0,i.jsx)(en.x,{children:(0,i.jsx)(A.x,{children:n.Plot})}),(0,i.jsx)(en.x,{children:t.map(function(e){return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(d.k,{justifyContent:"space-between",children:[(0,i.jsxs)(A.x,{as:"u",children:[e,": "]}),(0,i.jsx)(A.x,{children:n[e]})]})})})})]})]}),(0,i.jsx)(b.M,{children:0===c.filter(function(e){return e.imdbID===n.imdbID}).length?(0,i.jsx)(v.z,{colorScheme:"green",leftIcon:(0,i.jsx)(et.d,{}),id:n.imdbID,onClick:function(e){var t,r;return t=e,r=n,t.preventDefault(),u(function(e){var n=z();return null===n?(localStorage.setItem("movie-bookmarks",JSON.stringify([r])),e(B(r))):0===n.filter(function(e){return e.imdbID===r.imdbID}).length?(localStorage.setItem("movie-bookmarks",JSON.stringify((0,N._)(n).concat([r]))),e(B(r))):void 0}),a(z()),l},children:"Add to Bookmarks"}):null})]})]})})})}var ei=t(5104),es=t.n(ei);function eo(){var e=(0,h.v9)(function(e){return e.movies}),n=(0,o._)((0,s.useState)(),2),t=n[0],r=n[1];return((0,s.useEffect)(function(){Object.values(e).length>0&&r(e.movies)},[e]),(0,s.useEffect)(function(){console.log("movies",t)},[t]),void 0!==t)?(0,i.jsx)(i.Fragment,{children:t&&(0,i.jsx)(Z.M,{columns:4,pacingX:"10px",spacingY:"20px",className:es().movies_index_container,children:Object.values(t).map(function(e,n){return(0,i.jsx)(er,{movieData:e},n)})})}):(0,i.jsx)(b.M,{children:(0,i.jsx)(A.x,{color:"white",size:"lg",fontSize:"50px",children:"Enter a Movie Title Above to Begin Search"})})}var ec=t(7424),ea=t.n(ec);function el(){var e=(0,o._)((0,s.useState)(!1),2);e[0],e[1];var n=(0,h.v9)(function(e){return e.bookmarks}),t=(0,o._)((0,s.useState)(n.current),2);return t[0],t[1],(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(d.k,{className:ea().app_container,minHeight:"100vh",width:"100vw",height:"100vh",backgroundColor:"#6a52ff4d",flexDirection:"column",children:[(0,i.jsx)(Y,{}),(0,i.jsx)(eo,{})]})})}var eu=t(8464),eh=t(5217),ed=t(3894),ex=(0,eh.UY)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,t=Object.freeze(e);return n.type===k?{movies:n.movies}:(0,g._)({},t)},bookmarks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{current:[]},n=arguments.length>1?arguments[1]:void 0,t=Object.freeze((0,g._)({},e));switch(n.type){case F:var r=localStorage.getItem("movie-bookmarks");if(r)return{current:r};return t;case R:var i=z().filter(function(e){return e.imdbID!==n.bookmarkID});return localStorage.setItem("movie-bookmarks",JSON.stringify(i)),{current:i};default:return t}}});function em(){var e=(0,eh.MT)(ex,{},r);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(h.zt,{store:e,children:(0,i.jsx)(eu.x,{children:(0,i.jsx)(el,{})})})})}r=(0,eh.md)(ed.Z)},7424:function(e){e.exports={app_container:"app_app_container__4mRBw"}},2423:function(e){e.exports={header_container:"headerbar_header_container__jhoNf",social_media_image:"headerbar_social_media_image__FFANv"}},5104:function(e){e.exports={movies_index_container:"MoviesIndex_movies_index_container__CCMIL"}}},function(e){e.O(0,[774,121,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);